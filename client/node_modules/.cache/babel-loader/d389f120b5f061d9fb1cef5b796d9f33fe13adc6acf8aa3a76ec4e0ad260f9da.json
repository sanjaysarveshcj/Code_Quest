{"ast":null,"code":"import { UPDATE_POINTS, TRANSFER_POINTS, ERROR } from \"../action/points.js\";\nconst initialState = {\n  users: [],\n  // Assuming the initial state holds an array of users\n  error: null\n};\nconst pointsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case UPDATE_POINTS:\n      {\n        // Update the specific user's points\n        const updatedUsers = state.users.map(user => user._id === action.payload._id ? {\n          ...user,\n          points: action.payload.points\n        } : user);\n        return {\n          ...state,\n          users: updatedUsers,\n          error: null // Clear any previous errors\n        };\n      }\n    case TRANSFER_POINTS:\n      {\n        // Update points for both users involved in the transfer\n        const updatedUsers = state.users.map(user => {\n          if (user._id === action.payload.fromUserId) {\n            return {\n              ...user,\n              points: action.payload.fromPoints\n            };\n          }\n          if (user._id === action.payload.toUserId) {\n            return {\n              ...user,\n              points: action.payload.toPoints\n            };\n          }\n          return user;\n        });\n        return {\n          ...state,\n          users: updatedUsers,\n          error: null\n        };\n      }\n    case ERROR:\n      return {\n        ...state,\n        error: action.payload // Store error message\n      };\n    default:\n      return state;\n  }\n};\nexport default pointsReducer;","map":{"version":3,"names":["UPDATE_POINTS","TRANSFER_POINTS","ERROR","initialState","users","error","pointsReducer","state","action","type","updatedUsers","map","user","_id","payload","points","fromUserId","fromPoints","toUserId","toPoints"],"sources":["D:/codequest-main (2)/codequest-main/client/src/reducers/points.js"],"sourcesContent":["import { UPDATE_POINTS, TRANSFER_POINTS, ERROR } from \"../action/points.js\";\r\n\r\nconst initialState = {\r\n  users: [], // Assuming the initial state holds an array of users\r\n  error: null,\r\n};\r\n\r\nconst pointsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case UPDATE_POINTS: {\r\n      // Update the specific user's points\r\n      const updatedUsers = state.users.map((user) =>\r\n        user._id === action.payload._id ? { ...user, points: action.payload.points } : user\r\n      );\r\n      return {\r\n        ...state,\r\n        users: updatedUsers,\r\n        error: null, // Clear any previous errors\r\n      };\r\n    }\r\n\r\n    case TRANSFER_POINTS: {\r\n      // Update points for both users involved in the transfer\r\n      const updatedUsers = state.users.map((user) => {\r\n        if (user._id === action.payload.fromUserId) {\r\n          return { ...user, points: action.payload.fromPoints };\r\n        }\r\n        if (user._id === action.payload.toUserId) {\r\n          return { ...user, points: action.payload.toPoints };\r\n        }\r\n        return user;\r\n      });\r\n      return {\r\n        ...state,\r\n        users: updatedUsers,\r\n        error: null,\r\n      };\r\n    }\r\n\r\n    case ERROR:\r\n      return {\r\n        ...state,\r\n        error: action.payload, // Store error message\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default pointsReducer;\r\n"],"mappings":"AAAA,SAASA,aAAa,EAAEC,eAAe,EAAEC,KAAK,QAAQ,qBAAqB;AAE3E,MAAMC,YAAY,GAAG;EACnBC,KAAK,EAAE,EAAE;EAAE;EACXC,KAAK,EAAE;AACT,CAAC;AAED,MAAMC,aAAa,GAAGA,CAACC,KAAK,GAAGJ,YAAY,EAAEK,MAAM,KAAK;EACtD,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAKT,aAAa;MAAE;QAClB;QACA,MAAMU,YAAY,GAAGH,KAAK,CAACH,KAAK,CAACO,GAAG,CAAEC,IAAI,IACxCA,IAAI,CAACC,GAAG,KAAKL,MAAM,CAACM,OAAO,CAACD,GAAG,GAAG;UAAE,GAAGD,IAAI;UAAEG,MAAM,EAAEP,MAAM,CAACM,OAAO,CAACC;QAAO,CAAC,GAAGH,IACjF,CAAC;QACD,OAAO;UACL,GAAGL,KAAK;UACRH,KAAK,EAAEM,YAAY;UACnBL,KAAK,EAAE,IAAI,CAAE;QACf,CAAC;MACH;IAEA,KAAKJ,eAAe;MAAE;QACpB;QACA,MAAMS,YAAY,GAAGH,KAAK,CAACH,KAAK,CAACO,GAAG,CAAEC,IAAI,IAAK;UAC7C,IAAIA,IAAI,CAACC,GAAG,KAAKL,MAAM,CAACM,OAAO,CAACE,UAAU,EAAE;YAC1C,OAAO;cAAE,GAAGJ,IAAI;cAAEG,MAAM,EAAEP,MAAM,CAACM,OAAO,CAACG;YAAW,CAAC;UACvD;UACA,IAAIL,IAAI,CAACC,GAAG,KAAKL,MAAM,CAACM,OAAO,CAACI,QAAQ,EAAE;YACxC,OAAO;cAAE,GAAGN,IAAI;cAAEG,MAAM,EAAEP,MAAM,CAACM,OAAO,CAACK;YAAS,CAAC;UACrD;UACA,OAAOP,IAAI;QACb,CAAC,CAAC;QACF,OAAO;UACL,GAAGL,KAAK;UACRH,KAAK,EAAEM,YAAY;UACnBL,KAAK,EAAE;QACT,CAAC;MACH;IAEA,KAAKH,KAAK;MACR,OAAO;QACL,GAAGK,KAAK;QACRF,KAAK,EAAEG,MAAM,CAACM,OAAO,CAAE;MACzB,CAAC;IAEH;MACE,OAAOP,KAAK;EAChB;AACF,CAAC;AAED,eAAeD,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}